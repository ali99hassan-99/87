<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø±Ø³Ù…ÙŠØ©</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        /* Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø®Ø· ÙˆØ§Ù„Ù†Ù…Ø· Ø§Ù„Ø¹Ø§Ù… */
        body {
            font-family: 'Times New Roman', Times, serif;
            font-weight: bold;
            background-color: #f8f9fa;
            display: flex;
            justify-content: center;
            padding: 40px 10px;
        }

        .form-card {
            background: #ffffff;
            padding: 30px;
            border: 2px solid #333;
            border-radius: 0px; /* ØªØµÙ…ÙŠÙ… Ø±Ø³Ù…ÙŠ Ø²ÙˆØ§ÙŠØ§ Ø­Ø§Ø¯Ø© */
            box-shadow: 10px 10px 0px #25d366;
            width: 100%;
            max-width: 500px;
        }

        h2 {
            text-align: center;
            text-decoration: underline;
            color: #000;
            font-size: 24px;
        }

        .input-group { margin-bottom: 20px; }

        label {
            display: block;
            margin-bottom: 8px;
            font-size: 18px;
        }

        input, textarea {
            width: 100%;
            padding: 10px;
            border: 1.5px solid #000;
            font-family: 'Times New Roman', Times, serif;
            font-weight: bold;
            font-size: 16px;
            box-sizing: border-box;
            background: #fff;
        }

        .btn-submit {
            width: 100%;
            padding: 15px;
            background: #000;
            color: #fff;
            border: none;
            font-family: 'Times New Roman', Times, serif;
            font-weight: bold;
            font-size: 20px;
            cursor: pointer;
            transition: 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .btn-submit:hover {
            background: #25d366;
            color: #000;
        }

        /* Ù‚Ø§Ù„Ø¨ Ø§Ù„Ù€ PDF Ø§Ù„Ù…Ø®ÙÙŠ (Ø³ÙŠØ¸Ù‡Ø± ÙÙŠ Ø§Ù„Ù…Ù„Ù ÙÙ‚Ø·) */
        #pdf-content {
            padding: 40px;
            display: none;
            color: #000;
        }
    </style>
</head>
<body>

<div class="form-card">
    <h2>Ø§Ø³ØªÙ…Ø§Ø±Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h2>

    <div class="input-group">
        <label>Ø§Ù„Ø§Ø³Ù… Ø¨Ø§Ù„ÙƒØ§Ù…Ù„:</label>
        <input type="text" id="full_name" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ù„Ø§Ø³Ù…">
    </div>

    <div class="input-group">
        <label>Ø±Ù‚Ù… Ø§Ù„Ø¬ÙˆØ§Ù„:</label>
        <input type="tel" id="user_phone" placeholder="07xxxxxxxx">
    </div>

    <div class="input-group">
        <label>Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹ / Ø§Ù„Ø±Ø³Ø§Ù„Ø©:</label>
        <textarea id="user_msg" rows="4" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ù‡Ù†Ø§..."></textarea>
    </div>

    <button class="btn-submit" onclick="executeProcess()">
        <span>ğŸ“„</span> Ø­ÙØ¸ Ø§Ù„Ù…Ù„Ù ÙˆØ¥Ø±Ø³Ø§Ù„ ÙˆØ§ØªØ³Ø§Ø¨
    </button>
</div>

<div id="pdf-content">
    <div style="text-align: center; border: 2px solid #000; padding: 10px; margin-bottom: 30px;">
        <h1 style="font-family: 'Times New Roman', serif; font-weight: bold; margin: 0;">ÙˆØ«ÙŠÙ‚Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø±Ø³Ù…ÙŠØ©</h1>
    </div>

    <div style="font-family: 'Times New Roman', serif; font-weight: bold; font-size: 18px; line-height: 2;">
        <p>Ø§Ù„ØªØ§Ø±ÙŠØ®: <span id="current_date"></span></p>
        <p>Ø§Ù„Ø§Ø³Ù… Ø§Ù„ÙƒØ§Ù…Ù„: <span id="p_name"></span></p>
        <p>Ø±Ù‚Ù… Ø§Ù„ØªÙˆØ§ØµÙ„: <span id="p_phone"></span></p>
        <p>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø©:</p>
        <div style="border: 1px solid #000; padding: 15px; min-height: 100px;">
            <span id="p_msg"></span>
        </div>
    </div>

    <p style="margin-top: 50px; text-align: left;">Ø§Ù„ØªÙˆÙ‚ÙŠØ¹: ......ØªØ¬Ø±ÙŠØ¨ÙŠ Ø¹Ù„ÙŠ Ø­Ø³Ù†.......</p>
</div>

<script>
    function executeProcess() {
        const name = document.getElementById('full_name').value;
        const phone = document.getElementById('user_phone').value;
        const msg = document.getElementById('user_msg').value;
        const date = new Date().toLocaleDateString('ar-EG');

        if(!name || !phone) {
            alert("ÙŠØ±Ø¬Ù‰ ØªØ¹Ø¨Ø¦Ø© Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©");
            return;
        }

        // ØªØ¹Ø¨Ø¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù€ PDF
        document.getElementById('p_name').innerText = name;
        document.getElementById('p_phone').innerText = phone;
        document.getElementById('p_msg').innerText = msg;
        document.getElementById('current_date').innerText = date;

        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØµØ¯ÙŠØ± PDF
        const element = document.getElementById('pdf-content');
        element.style.display = 'block'; // ØªÙØ¹ÙŠÙ„Ù‡ Ù…Ø¤Ù‚ØªØ§Ù‹ Ù„Ù„Ù†Ø³Ø®

        const opt = {
            margin:       0.5,
            filename:     `Ø§Ø³ØªÙ…Ø§Ø±Ø©_${name}.pdf`,
            image:        { type: 'jpeg', quality: 1 },
            html2canvas:  { scale: 2 },
            jsPDF:        { unit: 'in', format: 'a4', orientation: 'portrait' }
        };

        // ØªØ´ØºÙŠÙ„ Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¨Ø¶ØºØ·Ø© ÙˆØ§Ø­Ø¯Ø©
        html2pdf().set(opt).from(element).save().then(() => {
            element.style.display = 'none'; // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù‚Ø§Ù„Ø¨ Ù…Ø¬Ø¯Ø¯Ø§Ù‹

            // ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
            const myNumber = "9647712504488"; // Ø¶Ø¹ Ø±Ù‚Ù…Ùƒ Ù‡Ù†Ø§
            const waText = `*Ø§Ø³ØªÙ…Ø§Ø±Ø© Ø±Ø³Ù…ÙŠØ© Ø¬Ø¯ÙŠØ¯Ø©*%0A*Ø§Ù„Ø§Ø³Ù…:* ${name}%0A*Ø§Ù„Ù‡Ø§ØªÙ:* ${phone}%0A*Ø§Ù„Ø±Ø³Ø§Ù„Ø©:* ${msg}`;
            const waUrl = `https://wa.me/${myNumber}?text=${waText}`;

            setTimeout(() => {
                window.open(waUrl, '_blank');
            }, 800);
        });
    }
</script>

</body>
</html>
